<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ุซุจุช ุณูุงุฑุด ุธุฑูู ฺฉุจุงุฑ ูุตุฑู</title>
  <style>
:root{
  --primary:#2563eb;
  --secondary:#22c55e;
  --accent:#38bdf8;
  --danger:#ef4444;
  --bg:#f0f4f9;
  --card:#ffffff;
  --text:#0f172a;
  --muted:#64748b;
  --light-muted:#94a3b8;
  --radius:24px;
  --shadow-sm:0 2px 8px rgba(0,0,0,.06);
  --shadow-md:0 10px 25px rgba(0,0,0,.1);
  --shadow-lg:0 25px 50px rgba(0,0,0,.12);
}

*{
  box-sizing:border-box;
  font-family:'Segoe UI', tahoma, sans-serif;
}

html{scroll-behavior:smooth}

body{
  margin:0;
  background:linear-gradient(135deg, #f0f4f9 0%, #e8eef5 50%, #f5f7fc 100%);
  color:var(--text);
  min-height:100vh;
}

header{
  background:linear-gradient(135deg, #2563eb 0%, #1d4ed8 50%, #22c55e 100%);
  color:#fff;
  padding:60px 20px;
  position:relative;
  overflow:hidden;
}

header::before{
  content:'';
  position:absolute;
  top:-50%;
  left:-10%;
  width:600px;
  height:600px;
  background:radial-gradient(circle, rgba(255,255,255,.1) 0%, transparent 70%);
  border-radius:50%;
}

header::after{
  content:'';
  position:absolute;
  bottom:-30%;
  right:-5%;
  width:500px;
  height:500px;
  background:radial-gradient(circle, rgba(255,255,255,.08) 0%, transparent 70%);
  border-radius:50%;
}

header .container{
  position:relative;
  z-index:1;
  text-align:center;
}

header h1{
  margin:0;
  font-size:2.8rem;
  font-weight:800;
  letter-spacing:-1px;
  text-shadow:0 2px 10px rgba(0,0,0,.2);
  margin-bottom:12px;
}

header p{
  margin:0;
  font-size:1.15rem;
  opacity:0.95;
  font-weight:300;
  letter-spacing:0.5px;
}

.container{
  max-width:1000px;
  margin:auto;
  padding:20px;
}

.card{
  background:var(--card);
  border-radius:var(--radius);
  padding:32px;
  box-shadow:var(--shadow-md);
  margin-bottom:28px;
  transition:all .35s cubic-bezier(0.4, 0, 0.2, 1);
  border:1px solid rgba(255,255,255,.8);
  position:relative;
}

.card:hover{
  transform:translateY(-6px);
  box-shadow:var(--shadow-lg);
}

.card::before{
  content:'';
  position:absolute;
  top:0;
  right:0;
  width:100%;
  height:4px;
  background:linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
  border-radius:var(--radius) var(--radius) 0 0;
}

.download{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:24px;
  flex-wrap:wrap;
  background:linear-gradient(135deg, #fafbfc 0%, #f0f7ff 50%, #f0fff9 100%);
  border:2px solid #dbeafe;
  position:relative;
}

.download::before{
  content:'๐ฅ';
  position:absolute;
  left:-15px;
  top:50%;
  transform:translateY(-50%);
  font-size:3rem;
  opacity:.15;
}

.download strong{
  font-size:1.15rem;
  color:var(--text);
  display:block;
  margin-bottom:6px;
}

button{
  border:none;
  border-radius:16px;
  padding:16px 32px;
  background:linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
  color:#fff;
  cursor:pointer;
  font-size:1.05rem;
  font-weight:600;
  box-shadow:0 8px 20px rgba(37,99,235,.3);
  transition:all .3s ease;
  letter-spacing:0.3px;
  position:relative;
  overflow:hidden;
}

button::before{
  content:'';
  position:absolute;
  top:50%;
  left:50%;
  width:0;
  height:0;
  background:rgba(255,255,255,.3);
  border-radius:50%;
  transform:translate(-50%, -50%);
  transition:width .6s, height .6s;
}

button:hover::before{
  width:300px;
  height:300px;
}

button:hover{
  transform:translateY(-3px);
  box-shadow:0 12px 28px rgba(37,99,235,.4);
}

button:active{
  transform:translateY(-1px);
}

button:disabled{
  opacity:.5;
  cursor:not-allowed;
  box-shadow:none;
  transform:none;
}

button.secondary{
  background:linear-gradient(135deg, #64748b 0%, #475569 100%);
  box-shadow:0 8px 20px rgba(100,116,139,.3);
}

button.secondary:hover{
  box-shadow:0 12px 28px rgba(100,116,139,.4);
}

button.success{
  background:linear-gradient(135deg, var(--secondary) 0%, #16a34a 100%);
  box-shadow:0 8px 20px rgba(34,197,94,.3);
}

button.success:hover{
  box-shadow:0 12px 28px rgba(34,197,94,.4);
}

button.danger{
  background:linear-gradient(135deg, var(--danger) 0%, #dc2626 100%);
  box-shadow:0 8px 20px rgba(239,68,68,.3);
}

button.danger:hover{
  box-shadow:0 12px 28px rgba(239,68,68,.4);
}

button.small{
  padding:8px 16px;
  font-size:0.9rem;
  border-radius:12px;
}

.muted{
  color:var(--muted);
  font-size:.95rem;
  line-height:1.6;
}

h2{
  margin-top:0;
  font-size:1.6rem;
  font-weight:700;
  color:var(--text);
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:24px;
}

h2::before{
  content:'';
  display:inline-block;
  width:4px;
  height:28px;
  background:linear-gradient(180deg, var(--primary), var(--secondary));
  border-radius:2px;
}

.form-group{
  margin-bottom:22px;
}

label{
  display:block;
  margin-bottom:10px;
  font-size:.95rem;
  font-weight:600;
  color:var(--text);
  letter-spacing:0.3px;
}

input, textarea, select{
  width:100%;
  padding:15px 18px;
  border-radius:16px;
  border:2px solid #e2e8f0;
  font-size:1rem;
  background:#f8fafc;
  color:var(--text);
  transition:all .25s ease;
  font-family:inherit;
  letter-spacing:0.2px;
}

input::placeholder, textarea::placeholder{
  color:var(--light-muted);
}

input:focus, textarea:focus, select:focus{
  outline:none;
  border-color:var(--primary);
  background:#fff;
  box-shadow:0 0 0 5px rgba(37,99,235,.12);
  transform:translateY(-2px);
}

textarea{
  resize:vertical;
  min-height:140px;
  line-height:1.6;
}

.row{
  display:flex;
  gap:20px;
  flex-wrap:wrap;
  align-items:flex-start;
}

.row > div{
  flex:1;
  min-width:200px;
}

.button-group{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  margin-top:24px;
}

.button-group button{
  flex:1;
  min-width:140px;
}

@media(max-width:640px){
  .button-group{
    flex-direction:column;
  }
  
  .button-group button{
    width:100%;
  }
}

.cart-item{
  background:linear-gradient(135deg, #f0f7ff 0%, #f5f3ff 50%, #f0fff9 100%);
  border:2px solid #bfdbfe;
  border-radius:16px;
  padding:20px;
  margin-bottom:16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:16px;
  flex-wrap:wrap;
}

.cart-item-info{
  flex:1;
  min-width:200px;
}

.cart-item-info p{
  margin:6px 0;
  font-size:1rem;
}

.cart-item-info strong{
  color:var(--primary);
  font-weight:700;
}

.cart-item-actions{
  display:flex;
  gap:8px;
}

#cartPreview{
  background:linear-gradient(135deg, #ecfeff 0%, #f0fdfa 50%, #e0f7f4 100%);
  border:2px solid #67e8f9 !important;
  margin-top:28px !important;
  padding:28px !important;
  border-radius:var(--radius) !important;
}

#cartPreview h3{
  margin-top:0;
  color:#0369a1;
  font-size:1.3rem;
  margin-bottom:18px;
  display:flex;
  align-items:center;
  gap:10px;
}

#cartPreview h3::before{
  content:'โ';
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:32px;
  height:32px;
  background:#06b6d4;
  color:#fff;
  border-radius:50%;
  font-weight:bold;
  font-size:1.1rem;
}

#cartPreview p{
  margin:12px 0;
  padding:10px 0;
  border-bottom:1px solid rgba(6, 182, 212, 0.2);
  font-size:1.05rem;
  line-height:1.8;
}

#cartPreview p:last-child{
  border:none;
}

#cartPreview strong{
  color:#0369a1;
  font-weight:700;
}

footer{
  text-align:center;
  padding:32px 20px;
  color:var(--muted);
  font-size:.9rem;
  margin-top:40px;
  border-top:1px solid #e2e8f0;
}

.download-info{
  display:flex;
  flex-direction:column;
  gap:8px;
}

.status-badge{
  display:inline-block;
  padding:4px 12px;
  border-radius:20px;
  font-size:0.85rem;
  font-weight:600;
}

.status-badge.success{
  background:#d1fae5;
  color:#065f46;
}

.status-badge.loading{
  background:#fef3c7;
  color:#92400e;
}

.status-badge.error{
  background:#fee2e2;
  color:#7f1d1d;
}

.cart-count{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:24px;
  height:24px;
  background:#ef4444;
  color:#fff;
  border-radius:50%;
  font-size:0.8rem;
  font-weight:700;
  margin-left:6px;
}

.empty-cart{
  text-align:center;
  padding:40px 20px;
  color:var(--muted);
}

.empty-cart-icon{
  font-size:3rem;
  margin-bottom:16px;
}

@media(max-width:768px){
  header{
    padding:40px 20px;
  }
  
  header h1{
    font-size:2rem;
  }
  
  header p{
    font-size:1rem;
  }
  
  .card{
    padding:22px;
  }
  
  h2{
    font-size:1.3rem;
  }
  
  .row{
    flex-direction:column;
    gap:16px;
  }
  
  .row > div{
    width:100%;
  }
  
  .download{
    flex-direction:column;
    text-align:center;
  }
  
  button{
    padding:14px 24px;
    font-size:1rem;
  }

  .cart-item{
    flex-direction:column;
    align-items:flex-start;
  }

  .cart-item-actions{
    width:100%;
  }

  .cart-item-actions button{
    flex:1;
  }
}

@media(max-width:480px){
  header h1{
    font-size:1.6rem;
  }
  
  .card{
    padding:16px;
    border-radius:16px;
  }
  
  h2{
    font-size:1.15rem;
    margin-bottom:16px;
  }
  
  .form-group{
    margin-bottom:16px;
  }
  
  input, textarea, select{
    padding:12px 14px;
    font-size:16px;
  }
}

@keyframes slideUp{
  from{
    opacity:0;
    transform:translateY(20px);
  }
  to{
    opacity:1;
    transform:translateY(0);
  }
}

.card{
  animation:slideUp .5s ease-out;
}

@media print{
  header, footer, .button-group, #orderSection > p, .cart-item-actions{
    display:none;
  }
  
  body{
    background:#fff;
  }
  
  .card{
    box-shadow:none;
    border:1px solid #ddd;
    page-break-inside:avoid;
  }
}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>๐๏ธ ุณูุงุฑุด ุขููุงู ุธุฑูู ฺฉุจุงุฑ ูุตุฑู</h1>
      <p>ุซุจุช ุณูุงุฑุด ุณุฑุน ู ุงุฑุณุงู ูุณุชูู ุจู ูุงุชุณโุงูพ</p>
    </div>
  </header>

  <main class="container">

    <!-- ุฏุงูููุฏ ฺฉุงุชุงููฺฏ -->
    <section class="card download">
      <div class="download-info">
        <strong>๐ ุฏุงูููุฏ ฺฉุงุชุงููฺฏ ูุญุตููุงุช</strong>
        <div class="muted">
          <span id="fileSize" class="status-badge loading">ุฏุฑ ุญุงู ุจุฑุฑุณ ูุงู...</span>
        </div>
      </div>
      <a href="https://raw.githubusercontent.com/vnsh1368-nsh/katalog/main/katalog_zorof.pdf" download="katalog_zorof.pdf" id="downloadLink">
        <button class="success">ุฏุงูููุฏ ฺฉุงุชุงููฺฏ</button>
      </a>
    </section>

    <!-- ุงุทูุงุนุงุช ูุดุชุฑ -->
    <section class="card" id="customerBox">
      <h2>๐ค ุงุทูุงุนุงุช ูุดุชุฑ</h2>
      <div class="form-group">
        <label>ูุงู ูุดุชุฑ</label>
        <input type="text" id="customerName" placeholder="ูุงู ฺฉุงูู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ" />
      </div>
    </section>

    <!-- ูุฑู ุซุจุช ุณูุงุฑุด -->
    <section class="card" id="orderSection">
      <h2>๐ฆ ุซุจุช ุณูุงุฑุด</h2>
      <p class="muted">ูุงู ฺฉุงูุง ููุฑุฏ ูุธุฑ ุฑุง ูุทุงุจู ฺฉุงุชุงููฺฏ ูุฑุงุฑ ุฏุงุฏู ุดุฏู ุฏุฑ ุณุงุช ูุงุฑุฏ ฺฉูุฏ</p>

      <div class="form-group">
        <label>ูุงู ฺฉุงูุง</label>
        <textarea id="productName" placeholder="ูุงู ฺฉุงูุง ุฑุง ูุงุฑุฏ ฺฉูุฏ"></textarea>
      </div>

      <div class="row">
        <div class="form-group">
          <label>ุชุนุฏุงุฏ</label>
          <input type="number" id="quantity" min="1" placeholder="ุชุนุฏุงุฏ ููุฑุฏ ูุงุฒ" />
        </div>
        <div class="form-group">
          <label>ูุงุญุฏ</label>
          <select id="unit">
            <option value="ุนุฏุฏ">ุนุฏุฏ</option>
            <option value="ฺฉุงุฑุชู">ฺฉุงุฑุชู</option>
          </select>
        </div>
      </div>

      <button id="addToCart" class="success">ุงูุฒูุฏู ุจู ุณุจุฏ ุฎุฑุฏ</button>
    </section>

    <!-- ุณุจุฏ ุฎุฑุฏ -->
    <section class="card" id="cartSection" style="display:none">
      <h2>๐ ุณุจุฏ ุฎุฑุฏ <span class="cart-count" id="cartCount">0</span></h2>
      <div id="cartItems"></div>
      
      <div class="button-group">
        <button id="printOrder" class="secondary">๐จ๏ธ ฺุงูพ ุณูุงุฑุด</button>
        <button id="clearCart" class="danger">๐๏ธ ุญุฐู ููู</button>
        <button id="sendWhatsapp" class="success">๐ฑ ุงุฑุณุงู ุจู ูุงุชุณโุงูพ</button>
      </div>

      <div id="cartPreview" style="display:none"></div>
    </section>

  </main>

  <footer>
    ยฉ 2025 | ุณุณุชู ุซุจุช ุณูุงุฑุด ุธุฑูู ฺฉุจุงุฑ ูุตุฑู | ุทุฑุงุญ ุดุฏู ุจุง โค๏ธ ุชูุณุท ูุญุฏ
  </footer>

<script>
document.addEventListener('DOMContentLoaded',()=>{
  const addToCartBtn = document.getElementById('addToCart');
  const sendBtn = document.getElementById('sendWhatsapp');
  const cartSection = document.getElementById('cartSection');
  const cartItems = document.getElementById('cartItems');
  const cartCount = document.getElementById('cartCount');
  const fileSizeEl = document.getElementById('fileSize');
  const downloadLink = document.getElementById('downloadLink');
  const printBtn = document.getElementById('printOrder');
  const clearCartBtn = document.getElementById('clearCart');
  const cartPreview = document.getElementById('cartPreview');

  let cart = [];

  // โญ ุงุทูุงุนุงุช GitHub
  const GITHUB_USERNAME = 'vnsh1368-nsh';
  const GITHUB_REPO = 'zorof';
  const PDF_FILE = 'katalog_zorof.pdf';
  
  const githubRawUrl = `https://raw.githubusercontent.com/${GITHUB_USERNAME}/${GITHUB_REPO}/main/${PDF_FILE}`;
  const githubApiUrl = `https://api.github.com/repos/${GITHUB_USERNAME}/${GITHUB_REPO}/contents/${PDF_FILE}`;

  // ุจุฑูุฒุฑุณุงู ููฺฉ ุฏุงูููุฏ
  downloadLink.href = githubRawUrl;

  // ุฏุฑุงูุช ุญุฌู ูุงู ุงุฒ GitHub API
  fetch(githubApiUrl)
    .then(r=>{
      if(!r.ok) throw new Error('ูุงู ุงูุช ูุดุฏ');
      return r.json();
    })
    .then(data=>{
      const sizeMB = (data.size / 1024 / 1024).toFixed(2);
      fileSizeEl.textContent = `ุญุฌู: ${sizeMB} MB`;
      fileSizeEl.className = 'status-badge success';
    })
    .catch(err=>{
      console.error('ุฎุทุง:',err);
      fileSizeEl.textContent = 'ุขูุงุฏู ุจุฑุง ุฏุงูููุฏ';
      fileSizeEl.className = 'status-badge success';
    });

  function renderCart(){
    if(cart.length === 0){
      cartItems.innerHTML = '<div class="empty-cart"><div class="empty-cart-icon">๐ญ</div><p>ุณุจุฏ ุฎุฑุฏ ุฎุงู ุงุณุช</p></div>';
      cartSection.style.display = 'none';
      return;
    }

    cartSection.style.display = 'block';
    cartCount.textContent = cart.length;

    cartItems.innerHTML = cart.map((item, index) => `
      <div class="cart-item">
        <div class="cart-item-info">
          <p><strong>๐ฆ ูุงู ฺฉุงูุง:</strong> ${item.product}</p>
          <p><strong>๐ ุชุนุฏุงุฏ:</strong> ${item.quantity} ${item.unit}</p>
        </div>
        <div class="cart-item-actions">
          <button class="secondary small" onclick="editItem(${index})">โ๏ธ ูุฑุงุด</button>
          <button class="danger small" onclick="deleteItem(${index})">๐๏ธ ุญุฐู</button>
        </div>
      </div>
    `).join('');
  }

  window.editItem = (index) => {
    const item = cart[index];
    document.getElementById('productName').value = item.product;
    document.getElementById('quantity').value = item.quantity;
    document.getElementById('unit').value = item.unit;
    deleteItem(index);
    document.getElementById('productName').focus();
  };

  window.deleteItem = (index) => {
    cart.splice(index, 1);
    renderCart();
  };

  addToCartBtn.addEventListener('click', () => {
    const customer = document.getElementById('customerName').value.trim();
    const product = document.getElementById('productName').value.trim();
    const qty = document.getElementById('quantity').value;
    const unit = document.getElementById('unit').value;

    if(!customer){
      alert('ูุทูุงู ูุงู ูุดุชุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ');
      return;
    }

    if(!product || !qty){
      alert('ูุทูุงู ูุงู ฺฉุงูุง ู ุชุนุฏุงุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ');
      return;
    }

    cart.push({
      product: product,
      quantity: qty,
      unit: unit
    });

    document.getElementById('productName').value = '';
    document.getElementById('quantity').value = '';

    renderCart();
  });

  clearCartBtn.addEventListener('click', () => {
    if(confirm('ุขุง ูโุฎูุงูุฏ ุชูุงู ฺฉุงูุงูุง ุฑุง ุญุฐู ฺฉูุฏุ')){
      cart = [];
      renderCart();
      cartPreview.style.display = 'none';
    }
  });

  printBtn.addEventListener('click', () => window.print());

  sendBtn.addEventListener('click', () => {
    const customer = document.getElementById('customerName').value.trim();

    if(!customer){
      alert('ูุทูุงู ูุงู ูุดุชุฑ ุฑุง ูุงุฑุฏ ฺฉูุฏ');
      return;
    }

    if(cart.length === 0){
      alert('ุณุจุฏ ุฎุฑุฏ ุฎุงู ุงุณุช');
      return;
    }

    let text = `ุณูุงุฑุด ุฌุฏุฏ:%0A๐ค ูุงู ูุดุชุฑ: ${customer}%0A`;
    cart.forEach((item, index) => {
      text += `%0A๐ฆ ฺฉุงูุง ${index + 1}: ${item.product}%0A   ุชุนุฏุงุฏ: ${item.quantity} ${item.unit}`;
    });

    window.open(`https://wa.me/989374657597?text=${text}`, '_blank');
  });
});
</script>
</body>
</html>
